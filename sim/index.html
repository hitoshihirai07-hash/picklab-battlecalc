<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Pick Lab 対戦・ダメージ計算</title>
  <link rel="manifest" href="../assets/manifest.webmanifest">
  <link rel="icon" href="../assets/icon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="../style.css?v=20260206"/>

  <style>
    /* optOut */
    .optOut{margin-top:10px}
    .optBox{padding:10px;border:1px solid var(--line);border-radius:12px;background:#fff}
    .optHdr{display:flex;align-items:flex-end;justify-content:space-between;gap:10px;flex-wrap:wrap}
    .optHdr h3{margin:0;font-size:14px}
    .optSmall{font-size:12px;color:var(--muted)}
    .optRow{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin-top:8px}
    .monPill{display:inline-flex;gap:6px;align-items:center;padding:4px 8px;border:1px solid var(--line);border-radius:999px;background:#fff}
    .monPill img{width:28px;height:28px;object-fit:contain;border-radius:6px}
    .optList{display:flex;flex-direction:column;gap:6px;margin-top:10px}
    .optItem{display:flex;justify-content:space-between;gap:10px;align-items:center;padding:6px 8px;border:1px dashed var(--line);border-radius:10px;background:#fff}
    .optItem .left{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
    .optItem .right{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .btnTiny{font-size:12px;padding:6px 10px;border-radius:10px}
    .optWarn{margin-top:8px;padding:8px 10px;border:1px solid rgba(255,138,61,.35);background:rgba(255,180,74,.10);border-radius:12px}
  </style>

</head>
<body>
<header>
  <h1>Pick Lab 対戦・ダメージ計算</h1>
  <div class="sub">対戦・選出シミュレーター</div>
  <div class="toolbar">
    <a class="btn" href="../" style="text-decoration:none;">トップ</a>
    <button id="btnLoad" class="primary">再読み込み</button>

    <label class="btn" style="display:inline-flex;align-items:center;gap:8px;">
      伝説・幻を除外
      <input id="toggleNoLegends" type="checkbox" checked/>
    </label>

    <span id="regInfo" class="small note" style="margin-left:6px;">レギュ: 未設定</span>

    <a class="btn" href="/calc/" target="_blank" rel="noopener" style="text-decoration:none;">ダメージ計算</a>
    <button id="btnSendToCalc" class="btn" type="button">チーム→ダメ計</button>
  </div>
  <div id="status" class="note" style="margin-top:8px"></div>
</header>

<main>
  <div class="kpi">
    <div class="card">
      <div class="panelTitle">
        <h2>簡易シミュ</h2>
        <div class="small">6体登録 → 6→3最適化（おまかせ）→ 必要なら微調整 → 計算</div>
      </div>
      <div class="row">
        <button id="btnSim" disabled>選出でシミュする</button>
        <button id="btnAiPage" disabled>AI提案ページへ（別タブ）</button>
        <button id="btnClearPicks" disabled>選出リセット</button>
        <button id="btnAutoLeft" disabled>左 6→3最適化</button>
        <button id="btnAutoRight" disabled>右 6→3最適化</button>
        <button id="btnAutoBoth" disabled>両方 6→3最適化</button>
        <label class="btn" style="display:inline-flex;align-items:center;gap:8px;">
          相手選出を隠す
          <input id="toggleHideRight" type="checkbox"/>
        </label>
        <div class="small">※本気の対戦エンジンではなく、タイプ＋技タイプ中心の“ざっくり”です。</div>
      </div>
      <div id="optOut" class="optOut"></div>
      <div id="simOut" class="note"></div>
    </div>
  </div>

  <div class="grid" style="margin-top:14px">
    <section>
      <div class="panelTitle">
        <h2>あなた側</h2>
        <div class="small" id="leftHint"></div>
      </div>
      <div class="row">
        <button id="btnAutoTeamLeft" disabled>左をおまかせで6体</button>
        <button id="btnClearTeamLeft" disabled>左をクリア</button>
      </div>
      <div id="leftSlots" class="row" style="flex-direction:column"></div>
    </section>

    <section>
      <div class="panelTitle">
        <h2>相手側（おまかせ/AIの想定）</h2>
        <div class="small" id="rightHint"></div>
      </div>

      <div class="row">
        <button id="btnAutoTeamRight" disabled>右をおまかせで6体</button>
        <button id="btnClearTeamRight" disabled>右をクリア</button>
      </div>
      <div id="rightSlots" class="row" style="flex-direction:column"></div>
    </section>
  </div>
</main>

<script src="../app.js?v=20260216_6to3v2"></script>
</body>
</html>
